{%extends "base.html" %}
{% load crispy_forms_tags %}
{% load staticfiles %}
{% block head_title%}{{title}}{%endblock%}
{# 
{% block jumbotron%}
{%endblock%} #}
{%block content%}
<div class="row">
  <div class = "col-sm-12 col-md-12">
  {% if data != None %}
    <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th>ID</th>
            <th data-align="center">Data Requisição</th>
            <th data-align="center">Status</th>
            <th>Algoritmo</th>
            <th>Arquivo Entrada</th>
            <th>Arquivo Saída</th>
          </tr>
        </thead>
        <tbody>
        {%for exp in data%}
        <tr>
          <td>{{exp.id}}</td>
          <td>{{exp.date_requisition}}</td>
          <td>{{exp.status}}</td>
          <td>{{exp.algorithm}}</td>
          <td>
          {% if exp.inputFile%}
          <a  href="{% url 'downloadInputFile'%}?id={{exp.id}}"><button type="button" class="btn btn-success">Download Input</button></a>
          {% else %}
          <button type="button" class="btn btn-warning disabled">Sem Entrada</button>
          {% endif %}
          </td>
          <td>
          {% if exp.outputFile%}
          <a  href="{% url 'downloadOutputFile'%}?id={{exp.id}}"><button type="button" class="btn btn-success">Download Output</button></a>
          {% else %}
          <button type="button" class="btn btn-warning disabled">Sem Resultado</button>
          {% endif %}
          </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>

    <nav>
      <ul class="pagination">
      {# CASO SEJA A PRIMEIRA PAGINA #}
        {% if data.has_previous %}
        <li>
          <a href="?page={{ data.previous_page_number }}" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li> 
        {% else %}
        <li class="disabled">
          <span aria-hidden="true">&laquo;</span>
        </li>
        {% endif %}

        {% for page, value in pagesIndex.items %}
            {% if value > 0 %}
              {% if page = 2 %}
              <li class='active'><a href="#">{{value}}</a></li>
              {%else%}
              <li><a href="?page={{value}}">{{value}}</a></li>
              {% endif %}
            {%endif%}
        {% endfor %}

        
        {% if data.has_next %}
        <li>
          <a href="?page={{ data.next_page_number }}" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        {% else %}
        <li class="disabled">
          <span aria-hidden="true">&raquo;</span>
        {% endif %}
        </li>
        
      </ul>
    </nav>

  {% else %}
    <p1>Você não possui experimentos</p1>
  {% endif %}

  </div>
</div>
{%endblock%}
